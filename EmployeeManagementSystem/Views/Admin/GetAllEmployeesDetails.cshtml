
@{
    ViewBag.Title = "GetAllEmployeesDetails";


    var data = (IEnumerable<EmployeeManagementSystem.Models.Employee>)ViewData["allEmployees"];
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })

        

    </script>
}

@if (((Session["role"]).ToString()) == "Admin")
{


    <h2 class="addEmp">Employees Details</h2>
    <hr id="addemphr" />
    <div class="GetAllEmpDet-btn">
        <div  class="GetAllEmpDet-btn-sec">
            <a href="@Url.Action("AddNewEmp" , "Admin")"  tabindex="-1">
                <span class="fa fa-solid fa-user"></span>
                Add Employee
            </a>
        </div>
    </div>

    <table id="GetAllEmpDetails">
        <thead class="">
            <tr>
                <th class="col-md-3">
                    Name
                </th>


                <th class="col-md-2">
                    Email
                </th>


                <th class="col-md-1">
                    Role
                </th>
                <th class="col-md-2">
                    Designation
                </th>

                <th class="col-md-3">
                    Actions
                </th>

            </tr>
        </thead>
        <tbody>

            @{
                foreach (var item in data)
                {

                        <tr class="table-bordered ">


                            @if (item.IsActive == true)
                            {

                                <td class="col-md-3">@item.FirstName @item.MiddleName @item.LastName</td>
                                <td class="col-md-2"> @item.Email</td>
                                <td class="col-md-1">@item.Role</td>
                                <td class="col-md-2"> @item.Designation</td>
                                <td class="col-md-3">
                                    <span>
                                        <button onclick="location.href='@Url.Action("EditEmp", "Admin", item)'" id="emp-create-btn" class="btn-primary btn-sm mx-2 my-1" type="button" data-toggle="tooltip" data-placement="top" title="Edit Details"><i class="fa fa-solid fa-pen mx-1"></i></button>

                                        <button onclick="(confirm('do you want to Disable?')) ? location.href='@Url.Action("DisableEmp", "Admin", item)' : null;" id="emp-create-btn" class="bg-warning text-dark btn-sm mx-2" type="button" data-toggle="tooltip" data-placement="top" title="Disable Employee"><i class="fa fa-regular fa-user-slash mx-1"></i></button>

                                        <button onclick="location.href='@Url.Action("Report", "Admin", item)'" id="emp-create-btn" class="btn-success btn-sm" type="button" data-toggle="tooltip" data-placement="top" title="Generate Report"><i class="fa fa-thin fa-file-chart-pie mx-1"></i></button>

                                    </span>
                                </td>
                            }
                            else
                            {

                                <td class="col-md-3 disabled bg-secondary text-white">@item.FirstName @item.MiddleName @item.LastName</td>
                                <td class="col-md-2 disabled bg-secondary text-white"> @item.Email</td>
                                <td class="col-md-1 disabled bg-secondary text-white">@item.Role</td>
                                <td class="col-md-2 disabled bg-secondary text-white"> @item.Designation</td>
                                <td class="col-md-3 disabled bg-secondary text-white">
                                    <span>
                                        <button onclick="location.href='@Url.Action("EditEmp", "Admin", item)'" id="emp-create-btn" class="btn-primary btn-sm mx-2" type="button" data-toggle="tooltip" data-placement="top" title="Details Disbaled" disabled><i class="fa fa-solid fa-pen mx-1"></i></button>

                                        <button onclick="(confirm('do you want to Disable?')) ? location.href='@Url.Action("DisableEmp", "Admin", item)' : null;" id="emp-create-btn" class="btn-danger btn-sm mx-2" type="button" data-toggle="tooltip" data-placement="top" title="Employee Disbaled" disabled><i class="fa fa-regular fa-user-slash mx-1"></i></button>

                                        <button onclick="location.href='@Url.Action("Report", "Admin", item)'" id="emp-create-btn" class="btn-success btn-sm" type="button" data-toggle="tooltip" data-placement="top" title="Report Disbaled" disabled><i class="fa fa-thin fa-file-chart-pie mx-1 " ></i></button>

                                    </span>
                                </td>


                            }


                        </tr>

                }
            }
        </tbody>
    </table>



}
else
{
    <td> You are not Authorized </td>
}


